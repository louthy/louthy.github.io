<html ><head ><link rel="stylesheet" type="text/css" href="doc.css"></link></head><body ><div class="nav-bar"><a class="nav-bar-link" href="https://louthy.github.io/">API Reference</a> \ <a class="nav-bar-link" href="../LanguageExt/index.htm">LanguageExt</a> \ <span class="nav-bar-link" href="StrategyContext_.htm">StrategyContext</span></div><div class="nav-panel"><h3 >FIELDS</h3><a class="nav-link" href="#Affects">Affects</a><a class="nav-link" href="#Directive">Directive</a><a class="nav-link" href="#Empty">Empty</a><a class="nav-link" href="#Exception">Exception</a><a class="nav-link" href="#Global">Global</a><a class="nav-link" href="#Message">Message</a><a class="nav-link" href="#MessageDirective">MessageDirective</a><a class="nav-link" href="#ParentProcess">ParentProcess</a><a class="nav-link" href="#Pause">Pause</a><a class="nav-link" href="#Self">Self</a><a class="nav-link" href="#Sender">Sender</a><a class="nav-link" href="#Siblings">Siblings</a><h3 >METHODS</h3><a class="nav-link" href="#With">With(StrategyState, Exception, object, ProcessId?, ProcessId?, ProcessId?, IEnumerable&lt;ProcessId&gt;, IEnumerable&lt;ProcessId&gt;, Time?, Option&lt;Directive&gt;, Option&lt;MessageDirective&gt;)</a></div><div class="content-panel"><h1 >StrategyContext Class</h1><p ><span >Keeps a running context whilst a strategy computation is running </span></p><div class="left"><div class="section"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">class</span> <span class="ident">StrategyContext</span></div></div></div><div class="right"><div class="section"><div class="section_title">NAMESPACE</div>LanguageExt</div></div><h2 >Fields</h2><div class="member-title"><a name="Affects"></a>Affects</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; <span class="ident">Affects</span></div></div></div><div class="member-title"><a name="Directive"></a>Directive</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">Option</span>&lt;<span class="ident">Directive</span>&gt; <span class="ident">Directive</span></div></div></div><div class="member-title"><a name="Empty"></a>Empty</div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Default strategy context </span></p></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="ident">StrategyContext</span> <span class="ident">Empty</span></div></div></div><div class="member-title"><a name="Exception"></a>Exception</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">Exception</span> <span class="ident">Exception</span></div></div></div><div class="member-title"><a name="Global"></a>Global</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">StrategyState</span> <span class="ident">Global</span></div></div></div><div class="member-title"><a name="Message"></a>Message</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="keyword">object</span> <span class="ident">Message</span></div></div></div><div class="member-title"><a name="MessageDirective"></a>MessageDirective</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">Option</span>&lt;<span class="ident">MessageDirective</span>&gt; <span class="ident">MessageDirective</span></div></div></div><div class="member-title"><a name="ParentProcess"></a>ParentProcess</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">ProcessId</span> <span class="ident">ParentProcess</span></div></div></div><div class="member-title"><a name="Pause"></a>Pause</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">Time</span> <span class="ident">Pause</span></div></div></div><div class="member-title"><a name="Self"></a>Self</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">ProcessId</span> <span class="ident">Self</span></div></div></div><div class="member-title"><a name="Sender"></a>Sender</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">ProcessId</span> <span class="ident">Sender</span></div></div></div><div class="member-title"><a name="Siblings"></a>Siblings</div><div class="section"><div class="left"></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; <span class="ident">Siblings</span></div></div></div><h2 >Methods</h2><div class="member-title"><a name="With"></a>With(StrategyState, Exception, object, ProcessId?, ProcessId?, ProcessId?, IEnumerable&lt;ProcessId&gt;, IEnumerable&lt;ProcessId&gt;, Time?, Option&lt;Directive&gt;, Option&lt;MessageDirective&gt;)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-With__StrategyState__Global__Exception__Exception__object__Message__ProcessId__Sender__ProcessId__FailedProcess__ProcessId__ParentProcess__IEnumerable_ProcessId_Siblings__IEnumerable_ProcessId_Affects__Time__Pause__Option_Directive_Directive__Option_MessageDirective_MessageDirective_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">Global</div><div class="arg-type"><span class="ident">StrategyState</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Exception</div><div class="arg-type"><span class="ident">Exception</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Message</div><div class="arg-type"><span class="keyword">object</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Sender</div><div class="arg-type"><span class="ident">ProcessId</span>?</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">FailedProcess</div><div class="arg-type"><span class="ident">ProcessId</span>?</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">ParentProcess</div><div class="arg-type"><span class="ident">ProcessId</span>?</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Siblings</div><div class="arg-type"><span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Affects</div><div class="arg-type"><span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Pause</div><div class="arg-type"><span class="ident">Time</span>?</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">Directive</div><div class="arg-type"><span class="ident">Option</span>&lt;<span class="ident">Directive</span>&gt;</div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">MessageDirective</div><div class="arg-type"><span class="ident">Option</span>&lt;<span class="ident">MessageDirective</span>&gt;</div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="ident">StrategyContext</span> <span class="ident">With</span>(<span class="ident">StrategyState</span> Global = null, <span class="ident">Exception</span> Exception = null, <span class="keyword">object</span> Message = null, <span class="ident">ProcessId</span>? Sender = null, <span class="ident">ProcessId</span>? FailedProcess = null, <span class="ident">ProcessId</span>? ParentProcess = null, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; Siblings = null, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; Affects = null, <span class="ident">Time</span>? Pause = null, <span class="ident">Option</span>&lt;<span class="ident">Directive</span>&gt; Directive = <span class="keyword">default</span><span class="ident">Option</span>&lt;<span class="ident">Directive</span>&gt;, <span class="ident">Option</span>&lt;<span class="ident">MessageDirective</span>&gt; MessageDirective = <span class="keyword">default</span><span class="ident">Option</span>&lt;<span class="ident">MessageDirective</span>&gt;)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">StrategyContext</span></div><div class="normal"></div></div></div><div style="display:none" id="code-With__StrategyState__Global__Exception__Exception__object__Message__ProcessId__Sender__ProcessId__FailedProcess__ProcessId__ParentProcess__IEnumerable_ProcessId_Siblings__IEnumerable_ProcessId_Affects__Time__Pause__Option_Directive_Directive__Option_MessageDirective_MessageDirective_"><div class="section_title">SOURCE</div><div class="code">
            new StrategyContext(
                Global ?? this.Global,
                Exception ?? this.Exception,
                Message ?? this.Message,
                Sender ?? this.Sender,
                FailedProcess ?? this.Self,
                ParentProcess ?? this.ParentProcess,
                Siblings ?? this.Siblings,
                Affects ?? this.Affects,
                Pause ?? this.Pause,

                // The following may look like bugs, but it&#39;s intentional that when
                // a Directive or MessageDirective is set, they stay set to their first
                // concrete value.  That means the State strategy expression that runs 
                // has the equivalent of an &#39;early out&#39;.  The whole expression is still
                // processed, but you can&#39;t override the earlier value.
                this.Directive.IsSome
                    ? this.Directive
                    : Directive,
                this.MessageDirective.IsSome
                    ? this.MessageDirective
                    : MessageDirective
            )</div></div></div></div></body></html>