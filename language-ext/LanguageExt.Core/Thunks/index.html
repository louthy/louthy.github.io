<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LanguageExt.Core\Thunks</title>
<link href="style.css" rel="stylesheet" type="text/css"/></head>
<body class="js-enabled"><div id="package-header"><ul class="links" id="page-menu"><li><a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks" class="link">Source</a></li>
<li><a href="../index.html" class="link">Contents</a></li>
<li><a href="/LanguageExt.Core/index.html" class="link">Index</a></li></ul>
<p class="caption">LanguageExt.Core</p></div>
<div id="content"><div id="module-header"><p class="caption"><a href="../index.html" class="link">LanguageExt.Core</a>
<span> â–º </span>
<a href="index.html" class="link">Thunks</a></p></div>
<div class="interface">
<div class="top"><p class="src"><span class="keyword">class</span>
<a href="Thunk" class="def">Thunk</a>

<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L12" class="link">Source</a>
<a href="#_0_Thunk_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<a href="NotEvaluated = 0" class="def">NotEvaluated = 0</a>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L16" class="link">Source</a>
<a href="#Thunk_0_NotEvaluated = 0_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<a href="Evaluating = 1" class="def">Evaluating = 1</a>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L17" class="link">Source</a>
<a href="#Thunk_0_Evaluating = 1_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<a href="IsSuccess = 2" class="def">IsSuccess = 2</a>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L18" class="link">Source</a>
<a href="#Thunk_0_IsSuccess = 2_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<a href="IsFailed = 4" class="def">IsFailed = 4</a>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L19" class="link">Source</a>
<a href="#Thunk_0_IsFailed = 4_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<a href="IsCancelled = 8" class="def">IsCancelled = 8</a>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L20" class="link">Source</a>
<a href="#Thunk_0_IsCancelled = 8_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<a href="HasEvaluated = IsSuccess | IsFailed | IsCancelled" class="def">HasEvaluated = IsSuccess | IsFailed | IsCancelled</a>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L21" class="link">Source</a>
<a href="#Thunk_0_HasEvaluated = IsSuccess | IsFailed | IsCancelled_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>



<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L23" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L54" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L86" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L117" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L148" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L179" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L211" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L242" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L274" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span> A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L305" class="link">Source</a>
<a href="#Thunk_0_Flatten_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this ThunkAsync<span class='generics'>&lt;</span>Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L336" class="link">Source</a>
<a href="#Thunk_0_Flatten_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L368" class="link">Source</a>
<a href="#Thunk_0_Flatten_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L399" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L430" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L461" class="link">Source</a>
<a href="#Thunk_0_Flatten_2" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Flatten" class="def">Flatten</a>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> mma<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/Thunk.cs#L492" class="link">Source</a>
<a href="#Thunk_0_Flatten_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<a href="ThunkAsync" class="def">ThunkAsync</a>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L13" class="link">Source</a>
<a href="#_0_ThunkAsync_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Lazily evaluates an asynchronous function and then memoizes the value
Runs at most once</p>
</div>
<div></div>

</div>







<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Lazy" class="def">Lazy</a>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>ValueTask<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span><span class='generics'>&gt;</span> fun<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L23" class="link">Source</a>
<a href="#ThunkAsync_1_Lazy_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a lazy thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Lazy" class="def">Lazy</a>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>ValueTask<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> fun<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L30" class="link">Source</a>
<a href="#ThunkAsync_1_Lazy_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a lazy ThunkAsync</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Fail" class="def">Fail</a>

<span class='parens'>(</span>Error error<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L37" class="link">Source</a>
<a href="#ThunkAsync_1_Fail_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct an error ThunkAsync</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Success" class="def">Success</a>

<span class='parens'>(</span>A value<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L44" class="link">Source</a>
<a href="#ThunkAsync_1_Success_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a success thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Cancelled" class="def">Cancelled</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L51" class="link">Source</a>
<a href="#ThunkAsync_1_Cancelled_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a cancelled thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Clone" class="def">Clone</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L84" class="link">Source</a>
<a href="#ThunkAsync_1_Clone_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Clone the thunk</p>
</div>
<div><p>For thunks that were created as pre-failed/pre-cancelled values (i.e. no delegate to run, just
in a pure error state), then the clone will copy that state exactly.  For thunks that have been evaluated
then a cloned thunk will reset the thunk to a non-evaluated state.  This also means any thunk that has been
evaluated and failed would lose the failed status</p>
</div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"></span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ValueTask<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<a href="Value" class="def">Value</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L93" class="link">Source</a>
<a href="#ThunkAsync_1_Value_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ValueTask<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<a href="ReValue" class="def">ReValue</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L100" class="link">Source</a>
<a href="#ThunkAsync_1_ReValue_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor (clearing the memoised value)</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="Map" class="def">Map</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L113" class="link">Source</a>
<a href="#ThunkAsync_1_Map_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="BiMap" class="def">BiMap</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> Succ<span class='comma'>, </span>Func<span class='generics'>&lt;</span>Error<span class='comma'>, </span>Error<span class='generics'>&gt;</span> Fail<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L158" class="link">Source</a>
<a href="#ThunkAsync_1_BiMap_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="MapAsync" class="def">MapAsync</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L203" class="link">Source</a>
<a href="#ThunkAsync_1_MapAsync_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="BiMapAsync" class="def">BiMapAsync</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> Succ<span class='comma'>, </span>Func<span class='generics'>&lt;</span>Error<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>Error<span class='generics'>&gt;</span><span class='generics'>&gt;</span> Fail<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L248" class="link">Source</a>
<a href="#ThunkAsync_1_BiMapAsync_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<a href="SpinIfEvaluating" class="def">SpinIfEvaluating</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L363" class="link">Source</a>
<a href="#ThunkAsync_1_SpinIfEvaluating_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Spin whilst it's running so we don't run the operation twice
this will block obviously, but this event should be super rare
and it's purely to stop race conditions with the eval</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
string
<a href="ToString" class="def">ToString</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.cs#L373" class="link">Source</a>
<a href="#ThunkAsync_1_ToString_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<a href="ThunkAsync" class="def">ThunkAsync</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L15" class="link">Source</a>
<a href="#_0_ThunkAsync_2" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div><p>Lazily evaluates an asynchronous function and then memoizes the value
Runs at most once</p>
</div>
<div></div>

</div>







<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Lazy" class="def">Lazy</a>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>Env<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span><span class='generics'>&gt;</span> fun<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L25" class="link">Source</a>
<a href="#ThunkAsync_2_Lazy_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a lazy thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Lazy" class="def">Lazy</a>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>Env<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> fun<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L32" class="link">Source</a>
<a href="#ThunkAsync_2_Lazy_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a lazy ThunkAsync</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Fail" class="def">Fail</a>

<span class='parens'>(</span>Error error<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L39" class="link">Source</a>
<a href="#ThunkAsync_2_Fail_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct an error ThunkAsync</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Success" class="def">Success</a>

<span class='parens'>(</span>A value<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L46" class="link">Source</a>
<a href="#ThunkAsync_2_Success_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a success thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Cancelled" class="def">Cancelled</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L53" class="link">Source</a>
<a href="#ThunkAsync_2_Cancelled_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a cancelled thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ValueTask<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<a href="Value" class="def">Value</a>

<span class='parens'>(</span>Env env<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L81" class="link">Source</a>
<a href="#ThunkAsync_2_Value_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ValueTask<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<a href="ReValue" class="def">ReValue</a>

<span class='parens'>(</span>Env env<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L88" class="link">Source</a>
<a href="#ThunkAsync_2_ReValue_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor (clearing the memoised value)</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Clone" class="def">Clone</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L106" class="link">Source</a>
<a href="#ThunkAsync_2_Clone_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Clone the thunk</p>
</div>
<div><p>For thunks that were created as pre-failed/pre-cancelled values (i.e. no delegate to run, just
in a pure error state), then the clone will copy that state exactly.  For thunks that have been evaluated
then a cloned thunk will reset the thunk to a non-evaluated state.  This also means any thunk that has been
evaluated and failed would lose the failed status</p>
</div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"></span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="Map" class="def">Map</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L115" class="link">Source</a>
<a href="#ThunkAsync_2_Map_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="BiMap" class="def">BiMap</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> Succ<span class='comma'>, </span>Func<span class='generics'>&lt;</span>Error<span class='comma'>, </span>Error<span class='generics'>&gt;</span> Fail<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L166" class="link">Source</a>
<a href="#ThunkAsync_2_BiMap_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="MapAsync" class="def">MapAsync</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L213" class="link">Source</a>
<a href="#ThunkAsync_2_MapAsync_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="BiMapAsync" class="def">BiMapAsync</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> Succ<span class='comma'>, </span>Func<span class='generics'>&lt;</span>Error<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>Error<span class='generics'>&gt;</span><span class='generics'>&gt;</span> Fail<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L264" class="link">Source</a>
<a href="#ThunkAsync_2_BiMapAsync_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<a href="SpinIfEvaluating" class="def">SpinIfEvaluating</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L388" class="link">Source</a>
<a href="#ThunkAsync_2_SpinIfEvaluating_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Spin whilst it's running so we don't run the operation twice
this will block obviously, but this event should be super rare
and it's purely to stop race conditions with the eval</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
string
<a href="ToString" class="def">ToString</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkAsync.Env.cs#L398" class="link">Source</a>
<a href="#ThunkAsync_2_ToString_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<a href="Thunk" class="def">Thunk</a>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L13" class="link">Source</a>
<a href="#_0_Thunk_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Lazily evaluates an asynchronous function and then memoizes the value
Runs at most once</p>
</div>
<div></div>

</div>







<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Lazy" class="def">Lazy</a>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> fun<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L23" class="link">Source</a>
<a href="#Thunk_1_Lazy_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a lazy thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Fail" class="def">Fail</a>

<span class='parens'>(</span>Error error<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L30" class="link">Source</a>
<a href="#Thunk_1_Fail_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct an error Thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Success" class="def">Success</a>

<span class='parens'>(</span>A value<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L37" class="link">Source</a>
<a href="#Thunk_1_Success_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a success thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Cancelled" class="def">Cancelled</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L44" class="link">Source</a>
<a href="#Thunk_1_Cancelled_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a cancelled thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Value" class="def">Value</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L72" class="link">Source</a>
<a href="#Thunk_1_Value_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="ReValue" class="def">ReValue</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L79" class="link">Source</a>
<a href="#Thunk_1_ReValue_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor (clearing the memoised value)</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Clone" class="def">Clone</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L97" class="link">Source</a>
<a href="#Thunk_1_Clone_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Clone the thunk</p>
</div>
<div><p>For thunks that were created as pre-failed/pre-cancelled values (i.e. no delegate to run, just
in a pure error state), then the clone will copy that state exactly.  For thunks that have been evaluated
then a cloned thunk will reset the thunk to a non-evaluated state.  This also means any thunk that has been
evaluated and failed would lose the failed status</p>
</div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"></span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="Map" class="def">Map</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L106" class="link">Source</a>
<a href="#Thunk_1_Map_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="BiMap" class="def">BiMap</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> Succ<span class='comma'>, </span>Func<span class='generics'>&lt;</span>Error<span class='comma'>, </span>Error<span class='generics'>&gt;</span> Fail<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L151" class="link">Source</a>
<a href="#Thunk_1_BiMap_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<a href="SpinIfEvaluating" class="def">SpinIfEvaluating</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L255" class="link">Source</a>
<a href="#Thunk_1_SpinIfEvaluating_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Spin whilst it's running so we don't run the operation twice
this will block obviously, but this event should be super rare
and it's purely to stop race conditions with the eval</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
string
<a href="ToString" class="def">ToString</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.cs#L265" class="link">Source</a>
<a href="#Thunk_1_ToString_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<a href="Thunk" class="def">Thunk</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L15" class="link">Source</a>
<a href="#_0_Thunk_2" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Lazily evaluates an asynchronous function and then memoizes the value
Runs at most once</p>
</div>
<div></div>

</div>







<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Lazy" class="def">Lazy</a>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>Env<span class='comma'>, </span>Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='generics'>&gt;</span> fun<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L25" class="link">Source</a>
<a href="#Thunk_2_Lazy_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a lazy thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Fail" class="def">Fail</a>

<span class='parens'>(</span>Error error<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L32" class="link">Source</a>
<a href="#Thunk_2_Fail_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct an error Thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Success" class="def">Success</a>

<span class='parens'>(</span>A value<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L39" class="link">Source</a>
<a href="#Thunk_2_Success_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a success thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Cancelled" class="def">Cancelled</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L46" class="link">Source</a>
<a href="#Thunk_2_Cancelled_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Construct a cancelled thunk</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="Value" class="def">Value</a>

<span class='parens'>(</span>Env env<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L74" class="link">Source</a>
<a href="#Thunk_2_Value_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Fin<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<a href="ReValue" class="def">ReValue</a>

<span class='parens'>(</span>Env env<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L81" class="link">Source</a>
<a href="#Thunk_2_ReValue_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Value accessor (clearing the memoised value)</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<a href="Clone" class="def">Clone</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L99" class="link">Source</a>
<a href="#Thunk_2_Clone_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Clone the thunk</p>
</div>
<div><p>For thunks that were created as pre-failed/pre-cancelled values (i.e. no delegate to run, just
in a pure error state), then the clone will copy that state exactly.  For thunks that have been evaluated
then a cloned thunk will reset the thunk to a non-evaluated state.  This also means any thunk that has been
evaluated and failed would lose the failed status</p>
</div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"></span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="Map" class="def">Map</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L108" class="link">Source</a>
<a href="#Thunk_2_Map_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="BiMap" class="def">BiMap</a>
<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span> Succ<span class='comma'>, </span>Func<span class='generics'>&lt;</span>Error<span class='comma'>, </span>Error<span class='generics'>&gt;</span> Fail<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L153" class="link">Source</a>
<a href="#Thunk_2_BiMap_1" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<a href="SpinIfEvaluating" class="def">SpinIfEvaluating</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L257" class="link">Source</a>
<a href="#Thunk_2_SpinIfEvaluating_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Spin whilst it's running so we don't run the operation twice
this will block obviously, but this event should be super rare
and it's purely to stop race conditions with the eval</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
string
<a href="ToString" class="def">ToString</a>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L267" class="link">Source</a>
<a href="#Thunk_2_ToString_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<a href="ThunkExt" class="def">ThunkExt</a>

<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L280" class="link">Source</a>
<a href="#_0_ThunkExt_0" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>







<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="MapAsync" class="def">MapAsync</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='generics'>&gt;</span> ma<span class='comma'>, </span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L285" class="link">Source</a>
<a href="#ThunkExt_0_MapAsync_3" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div><p>Functor async map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>Env<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<a href="MapAsync" class="def">MapAsync</a>
<span class='generics'>&lt;</span>Env<span class='comma'>, </span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span> ma<span class='comma'>, </span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L303" class="link">Source</a>
<a href="#ThunkExt_0_MapAsync_3" class="selflink">#</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> Env : struct, HasCancel&lt;Env&gt;</span></div></div></p>
<div class="doc"><div><p>Functor async map</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ThunkAsync<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span>
<a href="MapAsync" class="def">MapAsync</a>
<span class='generics'>&lt;</span>A<span class='comma'>, </span>B<span class='generics'>&gt;</span>
<span class='parens'>(</span>this Thunk<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span> ma<span class='comma'>, </span>Func<span class='generics'>&lt;</span>A<span class='comma'>, </span>ValueTask<span class='generics'>&lt;</span>B<span class='generics'>&gt;</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/language-ext/tree/main/LanguageExt.Core/Thunks/ThunkSync.Env.cs#L321" class="link">Source</a>
<a href="#ThunkExt_0_MapAsync_2" class="selflink">#</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Functor async map</p>
</div>
<div></div>

</div>












</div></div>




</div></div></div></body></html>