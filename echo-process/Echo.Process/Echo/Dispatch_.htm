<html ><head ><link rel="stylesheet" type="text/css" href="doc.css"></link></head><body ><div class="nav-bar"><a class="nav-bar-link" href="../index.htm">API Reference</a> \ <a class="nav-bar-link" href="../Echo/index.htm">Echo</a> \ <span class="nav-bar-link" href="Dispatch_.htm">Dispatch</span></div><div class="nav-panel"><h3 >METHODS</h3><a class="nav-link" href="#broadcast">broadcast(IEnumerable&lt;ProcessId&gt;)</a><a class="nav-link" href="#broadcast">broadcast(ProcessId, ProcessId)</a><a class="nav-link" href="#deregister">deregister(ProcessName)</a><a class="nav-link" href="#getFunc">getFunc(ProcessName)</a><a class="nav-link" href="#getFuncOption">getFuncOption(ProcessName)</a><a class="nav-link" href="#leastBusy">leastBusy(IEnumerable&lt;ProcessId&gt;)</a><a class="nav-link" href="#leastBusy">leastBusy(ProcessId, ProcessId)</a><a class="nav-link" href="#random">random(IEnumerable&lt;ProcessId&gt;)</a><a class="nav-link" href="#random">random(ProcessId, ProcessId)</a><a class="nav-link" href="#register">register(ProcessName, Func&lt;ProcessId, IEnumerable&lt;ProcessId&gt;&gt;)</a><a class="nav-link" href="#roundRobin">roundRobin(IEnumerable&lt;ProcessId&gt;)</a><a class="nav-link" href="#roundRobin">roundRobin(ProcessId, ProcessId)</a></div><div class="content-panel"><h1 >Dispatch Class</h1><p ></p><div class="left"><div class="section"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">class</span> <span class="ident">Dispatch</span></div></div></div><div class="right"><div class="section"><div class="section_title">NAMESPACE</div>Echo</div></div><h2 >Methods</h2><div class="member-title"><a name="broadcast"></a>broadcast(IEnumerable&lt;ProcessId&gt;)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-broadcast__IEnumerable_ProcessId_processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used for operations like &#39;tell&#39;, the message is dispatched to all Processes in  the set. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;</div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">broadcast</span>(<span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-broadcast__IEnumerable_ProcessId_processIds_"><div class="section_title">SOURCE</div><div class="code">
            Broadcast[processIds]</div></div></div><div class="member-title"><a name="broadcast"></a>broadcast(ProcessId, ProcessId)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-broadcast__ProcessId__processId__ProcessId__processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used for operations like &#39;tell&#39;, the message is dispatched to all Processes in  the set. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processId</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">broadcast</span>(<span class="ident">ProcessId</span> processId, <span class="ident">ProcessId</span> processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-broadcast__ProcessId__processId__ProcessId__processIds_"><div class="section_title">SOURCE</div><div class="code">
            Broadcast[processId.Cons(processIds)]</div></div></div><div class="member-title"><a name="deregister"></a>deregister(ProcessName)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-deregister__ProcessName__name_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Removes the dispatcher registration for the named dispatcher </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">name</div><div class="arg-type"><span class="ident">ProcessName</span></div></div><div class="arg-desc">Name of the dispatcher to remove</div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">Unit</span> <span class="ident">deregister</span>(<span class="ident">ProcessName</span> name)</div></div><div style="display:none" id="code-deregister__ProcessName__name_"><div class="section_title">SOURCE</div><div class="code">
            lock (sync)
            {
                dispatchers = dispatchers.Remove(name);
            }
            return unit;
        </div></div></div><div class="member-title"><a name="getFunc"></a>getFunc(ProcessName)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-getFunc__ProcessName__name_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">name</div><div class="arg-type"><span class="ident">ProcessName</span></div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">Func</span>&lt;<span class="ident">ProcessId</span>, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;&gt; <span class="ident">getFunc</span>(<span class="ident">ProcessName</span> name)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">Func</span>&lt;<span class="ident">ProcessId</span>, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;&gt;</div><div class="normal"></div></div></div><div style="display:none" id="code-getFunc__ProcessName__name_"><div class="section_title">SOURCE</div><div class="code">
            dispatchers.Find(name,
                Some: x =&gt; x,
                None: () =&gt; (ProcessId Id) =&gt; (new ProcessId[0]).AsEnumerable()
                )</div></div></div><div class="member-title"><a name="getFuncOption"></a>getFuncOption(ProcessName)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-getFuncOption__ProcessName__name_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">name</div><div class="arg-type"><span class="ident">ProcessName</span></div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">Option</span>&lt;<span class="ident">Func</span>&lt;<span class="ident">ProcessId</span>, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;&gt;&gt; <span class="ident">getFuncOption</span>(<span class="ident">ProcessName</span> name)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">Option</span>&lt;<span class="ident">Func</span>&lt;<span class="ident">ProcessId</span>, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;&gt;&gt;</div><div class="normal"></div></div></div><div style="display:none" id="code-getFuncOption__ProcessName__name_"><div class="section_title">SOURCE</div><div class="code">
            dispatchers.Find(name)</div></div></div><div class="member-title"><a name="leastBusy"></a>leastBusy(IEnumerable&lt;ProcessId&gt;)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-leastBusy__IEnumerable_ProcessId_processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used  for operations like &#39;tell&#39;, the message is dispatched to the least busy Process from the set. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;</div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">leastBusy</span>(<span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-leastBusy__IEnumerable_ProcessId_processIds_"><div class="section_title">SOURCE</div><div class="code">
            LeastBusy[processIds]</div></div></div><div class="member-title"><a name="leastBusy"></a>leastBusy(ProcessId, ProcessId)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-leastBusy__ProcessId__processId__ProcessId__processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used  for operations like &#39;tell&#39;, the message is dispatched to the least busy Process from the set. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processId</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">leastBusy</span>(<span class="ident">ProcessId</span> processId, <span class="ident">ProcessId</span> processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-leastBusy__ProcessId__processId__ProcessId__processIds_"><div class="section_title">SOURCE</div><div class="code">
            LeastBusy[processId.Cons(processIds)]</div></div></div><div class="member-title"><a name="random"></a>random(IEnumerable&lt;ProcessId&gt;)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-random__IEnumerable_ProcessId_processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used  for operations like &#39;tell&#39;, the message is dispatched to a cryptographically random Process from the set. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;</div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">random</span>(<span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-random__IEnumerable_ProcessId_processIds_"><div class="section_title">SOURCE</div><div class="code">
            Random[processIds]</div></div></div><div class="member-title"><a name="random"></a>random(ProcessId, ProcessId)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-random__ProcessId__processId__ProcessId__processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used  for operations like &#39;tell&#39;, the message is dispatched to a cryptographically random Process from the set. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processId</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">random</span>(<span class="ident">ProcessId</span> processId, <span class="ident">ProcessId</span> processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-random__ProcessId__processId__ProcessId__processIds_"><div class="section_title">SOURCE</div><div class="code">
            Random[processId.Cons(processIds)]</div></div></div><div class="member-title"><a name="register"></a>register(ProcessName, Func&lt;ProcessId, IEnumerable&lt;ProcessId&gt;&gt;)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-register__ProcessName__name__Func_ProcessId_IEnumerable&lt;ProcessId>_selector_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Registers a dispatcher for a role Dispatchers take in a &#39;leaf&#39; ProcessId (i.e. /user/my-process) and return an enumerable of real ProcessIds that the Process system will use to deliver all of the standard functions like tell, ask, subscribe, etc. </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">name</div><div class="arg-type"><span class="ident">ProcessName</span></div></div><div class="arg-desc">Name of the dispatcher</div></div><div class="arg"><div class="arg-header"><div class="arg-name">selector</div><div class="arg-type"><span class="ident">Func</span>&lt;<span class="ident">ProcessId</span>, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;&gt;</div></div><div class="arg-desc">Function that will be invoked every time a dispatcher based ProcessId is used.</div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">register</span>(<span class="ident">ProcessName</span> name, <span class="ident">Func</span>&lt;<span class="ident">ProcessId</span>, <span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;&gt; selector)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"><span >A root dispatcher ProcessId.  Use this to create new ProcessIds that will be passed to the selector function whenever the dispatcher based ProcessId is used</span></div></div></div><div style="display:none" id="code-register__ProcessName__name__Func_ProcessId_IEnumerable&lt;ProcessId>_selector_"><div class="section_title">SOURCE</div><div class="code">
            lock (sync)
            {
                dispatchers = dispatchers.AddOrUpdate(name, selector);
            }
            return ProcessId.Top[&quot;disp&quot;][name];
        </div></div></div><div class="member-title"><a name="roundRobin"></a>roundRobin(IEnumerable&lt;ProcessId&gt;)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-roundRobin__IEnumerable_ProcessId_processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used  for operations like &#39;tell&#39;, the message is dispatched to the Processes in a  round-robin fashion </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt;</div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">roundRobin</span>(<span class="ident">IEnumerable</span>&lt;<span class="ident">ProcessId</span>&gt; processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-roundRobin__IEnumerable_ProcessId_processIds_"><div class="section_title">SOURCE</div><div class="code">
            RoundRobin[processIds]</div></div></div><div class="member-title"><a name="roundRobin"></a>roundRobin(ProcessId, ProcessId)<div class="source-link-cont"><a class="source-link" href="#" onclick="document.getElementById(&#39;code-roundRobin__ProcessId__processId__ProcessId__processIds_&#39;).style.display=&#39;&#39;;">SOURCE</a></div></div><div class="section"><div class="left"><div class="section_title">SUMMARY</div><p ><span >Builds a ProcessId that represents a set of Processes.  When used  for operations like &#39;tell&#39;, the message is dispatched to the Processes in a  round-robin fashion </span></p><div class="section_title">PARAMETERS</div><div class="arg"><div class="arg-header"><div class="arg-name">processId</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div><div class="arg"><div class="arg-header"><div class="arg-name">processIds</div><div class="arg-type"><span class="ident">ProcessId</span></div></div></div></div><div class="right"><div class="section_title">DECLARATION</div><div class="code"><span class="keyword">public</span> <span class="keyword">static</span> <span class="ident">ProcessId</span> <span class="ident">roundRobin</span>(<span class="ident">ProcessId</span> processId, <span class="ident">ProcessId</span> processIds)</div><div class="section_title">RETURNS</div><div class="code"><div class="member-title"><span class="ident">ProcessId</span></div><div class="normal"></div></div></div><div style="display:none" id="code-roundRobin__ProcessId__processId__ProcessId__processIds_"><div class="section_title">SOURCE</div><div class="code">
            RoundRobin[processId.Cons(processIds)]</div></div></div></div></body></html>