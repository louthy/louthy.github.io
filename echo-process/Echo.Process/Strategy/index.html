<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Echo.Process\Strategy</title>
<link href="style.css" rel="stylesheet" type="text/css"/></head>
<body class="js-enabled"><div id="package-header"><ul class="links" id="page-menu"><li><a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy" class="link">Source</a></li>
<li><a href="../index.html" class="link">Contents</a></li>
<li><a href="/Echo.Process/index.html" class="link">Index</a></li></ul>
<p class="caption">Echo.Process</p></div>
<div id="content"><div id="module-header"><p class="caption"><a href="../index.html" class="link">Echo.Process</a>
<span> â–º </span>
<a href="index.html" class="link">Strategy</a></p></div>
<div class="interface">
<div class="top"><p class="src"><span class="keyword">enum</span>
<span><span class="def">DirectiveType</span></span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L15" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Directive type
'Discriminated union' identifier for the Directive sub-types.</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">Directive</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L29" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Instruction to the Process system of what action to take when
a Process crashes.  The directive is assigned to a supervisor
who apply these actions to the failed Process and optionally
other Processes defined by the Strategy.</p>
</div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
DirectiveType
<span class="def">Type</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L31" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Directive
<span class="def">Resume = 
            new Resume()</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L48" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Resume with state in tact after a crash</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Directive
<span class="def">Stop =
            new Stop()</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L54" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Shutdown after a crash</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Directive
<span class="def">Escalate =
            new Escalate()</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L61" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Escalate the exception to the parent of the crashing
process' supervisor after a crash</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Properties</p>
<div class="top"><p class="src"><span class="keyword">property</span>
Directive
<span class="def">Restart</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L42" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Re-call the setup function to reset the state after
a crash.</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
bool
<span class="def">Equals</span>

<span class='parens'>(</span>Directive other<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L67" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Equality test</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
bool
<span class="def">Equals</span>

<span class='parens'>(</span>object obj<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L73" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Equality test</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
int
<span class="def">GetHashCode</span>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L82" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Returns a unique hash-code for this Directive</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"></span></td></tr></tbody></table></div></div>
</div>












</div></div>
<div class="subs methods"><p class="caption">Operators</p>
<div class="top"><p class="src"><span class="keyword">operator</span>
<span class="def">==</span>
<span class='parens'>(</span>Directive lhs<span class='comma'>, </span>Directive rhs<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L88" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Equality operator</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">operator</span>
<span class="def">!=</span>
<span class='parens'>(</span>Directive lhs<span class='comma'>, </span>Directive rhs<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L94" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Non-equality operator</p>
</div>
<div></div>

</div>












</div></div>



</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">Resume</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L102" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Directive: Resume with state in tact after a crash</p>
</div>
<div></div>

</div>






<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">Resume</span>
<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L104" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>





</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">Stop</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L114" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Directive: Shutdown after a crash</p>
</div>
<div></div>

</div>






<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">Stop</span>
<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L116" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>





</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">Restart</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L127" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Directive: Re-call the setup function to reset the state after
a crash.</p>
</div>
<div></div>

</div>






<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">Restart</span>
<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L129" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>





</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">Escalate</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L140" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Directive: Escalate the exception to the parent of the crashing
process' supervisor after a crash</p>
</div>
<div></div>

</div>






<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">Escalate</span>
<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Directive.cs#L142" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>





</div>
<div class="top"><p class="src"><span class="keyword">enum</span>
<span><span class="def">InboxDirective</span></span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/InboxDirective.cs#L4" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">enum</span>
<span><span class="def">MessageDirectiveType</span></span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L11" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">MessageDirective</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L25" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Message directives
This class represents a set of core behaviours for the message that
caused a Process to fail.</p>
</div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
MessageDirectiveType
<span class="def">Type</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L27" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
MessageDirective
<span class="def">ForwardToParent = 
            new ForwardToParent()</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L52" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Forward the failed message to the supervisor (the parent) of the
Process that failed.  It will join the back of the queue.</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Properties</p>
<div class="top"><p class="src"><span class="keyword">property</span>
MessageDirective
<span class="def">ForwardToDeadLetters</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L38" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Forward the failed message onto the Dead Letters process
This is the default behaviour</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">property</span>
MessageDirective
<span class="def">ForwardToSelf</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L45" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Forward the failed message back to the Process that failed.
It will join the back of the queue.</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">property</span>
MessageDirective
<span class="def">StayInQueue</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L66" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Message remains at the front of the queue for when the process has recovered.
Could cause blocking for permanent failures.</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
MessageDirective
<span class="def">ForwardTo</span>

<span class='parens'>(</span>ProcessId pid<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L59" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Forward the failed message to the Process specified.
It will join the back of the queue.</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
bool
<span class="def">Equals</span>

<span class='parens'>(</span>MessageDirective other<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L69" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
bool
<span class="def">Equals</span>

<span class='parens'>(</span>object obj<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L72" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
int
<span class="def">GetHashCode</span>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L77" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>
<div class="subs methods"><p class="caption">Operators</p>
<div class="top"><p class="src"><span class="keyword">operator</span>
<span class="def">==</span>
<span class='parens'>(</span>MessageDirective lhs<span class='comma'>, </span>MessageDirective rhs<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L80" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">operator</span>
<span class="def">!=</span>
<span class='parens'>(</span>MessageDirective lhs<span class='comma'>, </span>MessageDirective rhs<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/MessageDirective.cs#L83" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>



</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">Strategy</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L10" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>StrategyContext<span class='generics'>&gt;</span>
<span class="def">Context =
            get&lt;StrategyContext&gt;()</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L63" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Get the context state State monad</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">IncFailureCount =
            MapGlobal(g =&gt; g.With(Failures: g.Failures + 1))</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L235" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Increase the failure count state</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">ResetFailureCount =
            MapGlobal(g =&gt; g.With(Failures: 0, FirstFailure: DateTime.MaxValue, LastFailure: DateTime.MaxValue))</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L241" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Reset the failure count state to zero and set FirstFailure and LastFailure to max-value</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">FailedOnce =
            MapGlobal(g =&gt; g.With(Failures: 1, FirstFailure: DateTime.UtcNow, LastFailure: DateTime.UtcNow))</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L247" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Set the failure count to 1 and set FirstFailure and LastFailure to UtcNow</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Properties</p>
<div class="top"><p class="src"><span class="keyword">property</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Reset</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L124" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Resets the global (to the Process) state.  This wipes out things like
the current retries counter, the time since the last failure, etc.</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">property</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Identity</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L141" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Identity function for the strategy state monad.  Use when you
want a no-op</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class="def">Return</span>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>A value<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L12" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class="def">Return</span>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span><span class='parens'>(</span>StrategyContext<span class='comma'>, </span>A<span class='parens'>)</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L15" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Return</span>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>StrategyContext<span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L22" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>A<span class='generics'>&gt;</span>
<span class="def">Return</span>
<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span><span class='parens'>(</span>TryOption<span class='generics'>&lt;</span>A<span class='generics'>&gt;</span><span class='comma'>, </span>StrategyContext State<span class='parens'>)</span><span class='generics'>&gt;</span> f<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L25" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Compose</span>

<span class='parens'>(</span>params State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>[] stages<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L37" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Compose a sequence of state computations</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">OneForOne</span>

<span class='parens'>(</span>params State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>[] stages<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L47" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>One-for-one strategy
This strategy affects only the process that failed</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">stages</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Set of computations to compose that results in a behaviour
for the strategy</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">AllForOne</span>

<span class='parens'>(</span>params State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>[] stages<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L57" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>All-for-one strategy
This strategy affects the process that failed and its siblings</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">stages</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Set of computations to compose that results in a behaviour
for the strategy</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">SetDirective</span>

<span class='parens'>(</span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span> directive<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L73" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Sets the decision directive.  Once set, cant be un-set.
If the directive is Stop then the Global state is reset for this
strategy (global to the Process)</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">directive</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Directive to set</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">SetFirstFailure</span>

<span class='parens'>(</span>DateTime when<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L83" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Sets the first-failure state.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">when</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Time to set</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">SetLastFailure</span>

<span class='parens'>(</span>DateTime when<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L93" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Sets the last-failure state.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">when</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Time to set</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">SetBackOffAmount</span>

<span class='parens'>(</span>Time step<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L104" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Sets the current back off amount</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">step</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Step size for the next Process pause before
resuming</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Pause</span>

<span class='parens'>(</span>Time duration<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L115" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Pauses the Process for a fixed amount of time</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">duration</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Duration of the pause before
resuming</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">MapGlobal</span>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>StrategyState<span class='comma'>, </span>StrategyState<span class='generics'>&gt;</span> map<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L132" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Maps the global (to the Process) state.</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Retries</span>

<span class='parens'>(</span>int Count<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L150" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Gives the strategy a behaviour that will only fail N times before
forcing the Process to stop</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Count</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Number of times to retry</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Retries</span>

<span class='parens'>(</span>int Count<span class='comma'>, </span>Time Duration<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L168" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Gives the strategy a behaviour that will only fail N times before
forcing the Process to stop.  However if a time-peroid of Duration
elapses, then the number of failures 'so far' is reset to zero.</p>
<p>This behaviour allows something that's rapidly failing to shutdown,
but will allow the occasional failure.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Count</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Number of times to retry</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Duration</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Time between failures</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Backoff</span>

<span class='parens'>(</span>Time Min<span class='comma'>, </span>Time Max<span class='comma'>, </span>Time Step<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L190" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Applies a strategy that causes the Process to 'back off'.  That is it will
be paused for an amount of time before it can continue doing other operations.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Min</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Minimum back-off time</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Max</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Maximum back-off time; once this point is reached the Process
will stop for good</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Step</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>The amount to add to the current back-off time for each failure.
That allows for the steps to grow gradually larger as the Process keeps failing</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Backoff</span>

<span class='parens'>(</span>Time Min<span class='comma'>, </span>Time Max<span class='comma'>, </span>double Scalar<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L210" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Applies a strategy that causes the Process to 'back off'.  That is it will
be paused for an amount of time before it can continue doing other operations.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Min</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Minimum back-off time</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Max</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Maximum back-off time; once this point is reached the Process
will stop for good</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Scalar</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>The amount to multiply the previous back-off time amount for each failure.
That allows for the steps to grow gradually larger as the Process keeps failing</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Backoff</span>

<span class='parens'>(</span>Time Duration<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L229" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Applies a strategy that causes the Process to 'back off' for a fixed amount of
time.  That is it will be paused for an amount of time before it can continue
doing other operations.  This strategy never causes a Process to be stopped.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">Duration</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Back-off time period</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Always</span>

<span class='parens'>(</span>Directive directive<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L255" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Always return this Directive in the final StrategyDecision</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">directive</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Directive to return</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Match</span>

<span class='parens'>(</span>params State<span class='generics'>&lt;</span>Exception<span class='comma'>, </span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span><span class='generics'>&gt;</span>[] directives<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L265" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Match a range of State computations that take the Exception that caused
the failure and map it to an Optional Directive.  The first computation to
return a Some(Directive) will succeed</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">directives</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Directive maps</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Redirect</span>

<span class='parens'>(</span>params State<span class='generics'>&lt;</span>Directive<span class='comma'>, </span>Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span><span class='generics'>&gt;</span>[] directives<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L282" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Match a range of State computations that take the currently selected
Directive and map it to an Optional MessageDirective.  The first computation
to return a Some(MessageDirective) will succeed.  If a Directive hasn't been
chosen by the time this is invoked then RestartNow is used by default.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">directives</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Directive maps</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span>
<span class="def">Redirect</span>

<span class='parens'>(</span>MessageDirective defaultDirective<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L296" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Provides a message redirection strategy that always uses the same MessageDirective
regardless of the Directive provided.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">defaultDirective</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Default message directive</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Exception<span class='comma'>, </span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">With</span>
<span class='generics'>&lt;</span>TException<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>TException<span class='comma'>, </span>Directive<span class='generics'>&gt;</span> map<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L306" class="link">Source</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> TException : Exception</span></div></div></p>
<div class="doc"><div><p>Used within the Strategy.Match function to match an Exception to a Directive.
Use the function's generic type to specify the type of Exception to match.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">type param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">TException</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Type of Exception to match</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">map</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Map from the TException to a Directive</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Exception<span class='comma'>, </span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">With</span>
<span class='generics'>&lt;</span>TException<span class='generics'>&gt;</span>
<span class='parens'>(</span>Directive directive<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L344" class="link">Source</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> TException : Exception</span></div></div></p>
<div class="doc"><div><p>Used within the Strategy.Match function to match an Exception to a Directive.
Use the function's generic type to specify the type of Exception to match.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">type param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">TException</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Type of Exception to match</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">directive</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Directive to use if the Exception matches TException</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Exception<span class='comma'>, </span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">Otherwise</span>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>Exception<span class='comma'>, </span>Directive<span class='generics'>&gt;</span> map<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L353" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Used within the Strategy.Match function to provide a default Directive if the
Exception that caused the failure doesn't match any of the previous With clauses.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">map</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Map from the Exception to a Directive</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Exception<span class='comma'>, </span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">Otherwise</span>

<span class='parens'>(</span>Directive directive<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L366" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Used within the Strategy.Match function to provide a default Directive if the
Exception that caused the failure doesn't match any of the previous With clauses.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">directive</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Directive to use</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>Strategy computation as a State monad</p>
</span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Directive<span class='comma'>, </span>Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">When</span>
<span class='generics'>&lt;</span>TDirective<span class='generics'>&gt;</span>
<span class='parens'>(</span>Func<span class='generics'>&lt;</span>TDirective<span class='comma'>, </span>MessageDirective<span class='generics'>&gt;</span> map<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L369" class="link">Source</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> TDirective : Directive</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Directive<span class='comma'>, </span>Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">When</span>
<span class='generics'>&lt;</span>TDirective<span class='generics'>&gt;</span>
<span class='parens'>(</span>MessageDirective directive<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L383" class="link">Source</a>
<div class="constraints"><div class="constraint"><span class="keyword">where</span>
<span> TDirective : Directive</span></div></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Directive<span class='comma'>, </span>Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">Otherwise</span>

<span class='parens'>(</span>Func<span class='generics'>&lt;</span>Directive<span class='comma'>, </span>MessageDirective<span class='generics'>&gt;</span> map<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L389" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>Directive<span class='comma'>, </span>Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">Otherwise</span>

<span class='parens'>(</span>MessageDirective directive<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/Strategy.cs#L393" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">StrategyContext</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L11" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Keeps a running context whilst a strategy computation is running</p>
</div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
StrategyState
<span class="def">Global</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L13" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Exception
<span class="def">Exception</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L14" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
object
<span class="def">Message</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L15" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
ProcessId
<span class="def">Sender</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L16" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
ProcessId
<span class="def">Self</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L17" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
ProcessId
<span class="def">ParentProcess</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L18" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span>
<span class="def">Siblings = new ProcessId[0]</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L19" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span>
<span class="def">Affects = new ProcessId[0]</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L20" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span>
<span class="def">Directive</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L21" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span>
<span class="def">MessageDirective</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L22" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Time
<span class="def">Pause</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L23" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
StrategyContext
<span class="def">Empty =
            new StrategyContext(
                StrategyState.Empty,
                null,
                null,
                ProcessId.None,
                ProcessId.None,
                ProcessId.None,
                null,
                null,
                0 * seconds,
                None,
                None)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L28" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Default strategy context</p>
</div>
<div></div>

</div>












</div></div>



<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
StrategyContext
<span class="def">With</span>

<span class='parens'>(</span>
            StrategyState Global = null,
            Exception Exception = null,
            object Message = null,
            ProcessId? Sender = null,
            ProcessId? FailedProcess = null,
            ProcessId? ParentProcess = null,
            IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span> Siblings = null,
            IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span> Affects = null,
            Time? Pause = null,
            Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span> Directive = default<span class='parens'>(</span>Option<span class='generics'>&lt;</span>Directive<span class='generics'>&gt;</span><span class='parens'>)</span>,
            Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span> MessageDirective = default<span class='parens'>(</span>Option<span class='generics'>&lt;</span>MessageDirective<span class='generics'>&gt;</span><span class='parens'>)</span>
        <span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyContext.cs#L71" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">StrategyDecision</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L6" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
Directive
<span class="def">ProcessDirective</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L8" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
MessageDirective
<span class="def">MessageDirective</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L9" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span>
<span class="def">Affects</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L10" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Time
<span class="def">Pause</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L11" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>


<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">StrategyDecision</span>
<span class='parens'>(</span>
            Directive processDirective,
            MessageDirective messageDirective,
            IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span> affects,
            Time pause
        <span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L13" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>
<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
StrategyDecision
<span class="def">New</span>

<span class='parens'>(</span>
            Directive processDirective,
            MessageDirective messageDirective,
            IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span> affects,
            Time pause
        <span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyDecision.cs#L26" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">StrategyEvent</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyEvent.cs#L7" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>







<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
State<span class='generics'>&lt;</span>StrategyState<span class='comma'>, </span>StrategyDecision<span class='generics'>&gt;</span>
<span class="def">Failure</span>

<span class='parens'>(</span>
            this State<span class='generics'>&lt;</span>StrategyContext<span class='comma'>, </span>Unit<span class='generics'>&gt;</span> strategy,
            ProcessId pid,
            ProcessId sender,
            ProcessId parent,
            IEnumerable<span class='generics'>&lt;</span>ProcessId<span class='generics'>&gt;</span> siblings,
            Exception ex,
            object msg <span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyEvent.cs#L25" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Creates a new State computation that is primed with the data of a particular
failure event.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">strategy</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Strategy as a State computation</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">pid</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Process ID that failed</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">sender</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Process that sent the message that cause the failure</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">parent</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Supervisor of the failed Process</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">siblings</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>The siblings of the failed Process</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">ex</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Exception</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">msg</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"><p>Message that caused the failure</p>
</span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"><p>State computation that can be invoked by passing it
an object of StrategyState.  This will result in a StateResult that contains
the mutated StrategyState and a StrategyDecision.  The StrategyDecision
contains all the information needed to decide the fate of a Process (and
related processes)</p>
</span></td></tr></tbody></table></div></div>
</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">StrategyState</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L11" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Holds the 'global' state for a strategy.  i.e the state that will
survive between invocations of the stratgey computation.</p>
</div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
Time
<span class="def">BackoffAmount</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L13" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<span class="def">Failures</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L14" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
DateTime
<span class="def">FirstFailure</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L15" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
DateTime
<span class="def">LastFailure</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L16" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
HashMap<span class='generics'>&lt;</span>string<span class='comma'>, </span>object<span class='generics'>&gt;</span>
<span class="def">Metadata</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L17" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
StrategyState
<span class="def">Empty = new StrategyState(0 * seconds, 0, DateTime.MaxValue, DateTime.MaxValue, HashMap&lt;string, object&gt;())</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L19" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>


<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">StrategyState</span>
<span class='parens'>(</span>
            Time backoffAmount,
            int failures,
            DateTime firstFailure,
            DateTime lastFailure,
            HashMap<span class='generics'>&lt;</span>string<span class='comma'>, </span>object<span class='generics'>&gt;</span> metadata
            <span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L21" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>
<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
StrategyState
<span class="def">SetMetaData</span>
<span class='generics'>&lt;</span>T<span class='generics'>&gt;</span>
<span class='parens'>(</span>string key<span class='comma'>, </span>T value<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L42" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Adds or updates an item of meta-data</p>
<p>This is for extending the default strategies behaviours and
allows for state to survive in-between Process errors</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
StrategyState
<span class="def">TrySetMetaData</span>
<span class='generics'>&lt;</span>T<span class='generics'>&gt;</span>
<span class='parens'>(</span>string key<span class='comma'>, </span>T value<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L52" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Attempts to set a meta-data item.  If it is already set, nothing
happens.</p>
<p>This is for extending the default strategies behaviours and
allows for state to survive in-between Process errors</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
StrategyState
<span class="def">RemoveMetaData</span>
<span class='generics'>&lt;</span>T<span class='generics'>&gt;</span>
<span class='parens'>(</span>string key<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L62" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Attempts to remove a meta-data item.  If it is not set, nothing
happens.</p>
<p>This is for extending the default strategies behaviours and
allows for state to survive in-between Process errors</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
bool
<span class="def">MetaDataContains</span>
<span class='generics'>&lt;</span>T<span class='generics'>&gt;</span>
<span class='parens'>(</span>string key<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L68" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Returns True if the meta-data contains the key specified</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
StrategyState
<span class="def">With</span>

<span class='parens'>(</span>
            Time? BackoffAmount = null,
            int? Failures = null,
            DateTime? FirstFailure = null,
            DateTime? LastFailure = null,
            HashMap<span class='generics'>&lt;</span>string<span class='comma'>, </span>object<span class='generics'>&gt;</span>? Metadata = null
            <span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Strategy/StrategyState.cs#L71" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div></div></div></body></html>