<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Echo.Process\Session</title>
<link href="style.css" rel="stylesheet" type="text/css"/></head>
<body class="js-enabled"><div id="package-header"><ul class="links" id="page-menu"><li><a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session" class="link">Source</a></li>
<li><a href="../index.html" class="link">Contents</a></li>
<li><a href="/Echo.Process/index.html" class="link">Index</a></li></ul>
<p class="caption">Echo.Process</p></div>
<div id="content"><div id="module-header"><p class="caption"><a href="../index.html" class="link">Echo.Process</a>
<span> â–º </span>
<a href="index.html" class="link">Session</a></p></div>
<div class="interface">
<div class="top"><p class="src"><span class="keyword">enum</span>
<span><span class="def">SessionActionTag</span></span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L9" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">SessionAction</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L18" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
SessionActionTag
<span class="def">Tag</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L20" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
long
<span class="def">Time</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L21" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
SessionId
<span class="def">SessionId</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L22" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
string
<span class="def">SystemName</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L23" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
string
<span class="def">NodeName</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L24" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<span class="def">Timeout</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L25" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
string
<span class="def">Key</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L26" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
string
<span class="def">Value</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L27" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
string
<span class="def">Type</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L28" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>


<div class="subs methods"><p class="caption">Constructors</p>
<div class="top"><p class="src"><span class="keyword">constructor</span>
<span class="def">SessionAction</span>
<span class='parens'>(</span>SessionActionTag tag<span class='comma'>, </span>long time<span class='comma'>, </span>SessionId sessionId<span class='comma'>, </span>string systemName<span class='comma'>, </span>string nodeName<span class='comma'>, </span>int timeout<span class='comma'>, </span>string key<span class='comma'>, </span>string value<span class='comma'>, </span>string type<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L30" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>
<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
SessionAction
<span class="def">Touch</span>

<span class='parens'>(</span>SessionId sessionId<span class='comma'>, </span>SystemName systemName<span class='comma'>, </span>ProcessName nodeName<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L44" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
SessionAction
<span class="def">Stop</span>

<span class='parens'>(</span>SessionId sessionId<span class='comma'>, </span>SystemName systemName<span class='comma'>, </span>ProcessName nodeName<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L47" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
SessionAction
<span class="def">Start</span>

<span class='parens'>(</span>SessionId sessionId<span class='comma'>, </span>int timeoutSeconds<span class='comma'>, </span>SystemName systemName<span class='comma'>, </span>ProcessName nodeName<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L50" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
SessionAction
<span class="def">ClearData</span>

<span class='parens'>(</span>long time<span class='comma'>, </span>SessionId sessionId<span class='comma'>, </span>string key<span class='comma'>, </span>SystemName systemName<span class='comma'>, </span>ProcessName nodeName<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L53" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
SessionAction
<span class="def">SetData</span>

<span class='parens'>(</span>long time<span class='comma'>, </span>SessionId sessionId<span class='comma'>, </span>string key<span class='comma'>, </span>object data<span class='comma'>, </span>SystemName systemName<span class='comma'>, </span>ProcessName nodeName<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionAction.cs#L56" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>

<div class="top"><p class="src"><span class="keyword">enum</span>
<span><span class="def">TypeCastFailedStatus</span></span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionDataTypeResolve.cs#L17" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>



<div class="top"><p class="src"><span class="keyword">enum</span>
<span><span class="def">VectorConflictStrategy</span></span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L10" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Version vector conflict strategy</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">ValueVector</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L33" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Simple version vector.  There can be multiple values stored for the
same event. The implementation will be replaced with Dotted Version
Vectors once I have implemented a general system for it in the Core.</p>
</div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
long
<span class="def">Time</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L35" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">field</span>
Seq<span class='generics'>&lt;</span>object<span class='generics'>&gt;</span>
<span class="def">Vector</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L36" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>



<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
ValueVector
<span class="def">New</span>

<span class='parens'>(</span>long time<span class='comma'>, </span>object root<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L44" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
ValueVector
<span class="def">AddValue</span>

<span class='parens'>(</span>long time<span class='comma'>, </span>object value<span class='comma'>, </span>VectorConflictStrategy strategy<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L47" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div>
<div class="top"><p class="src"><span class="keyword">class</span>
<span><span class="def">SessionVector</span>
</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L81" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>



<div class="subs methods"><p class="caption">Fields</p>
<div class="top"><p class="src"><span class="keyword">field</span>
int
<span class="def">TimeoutSeconds</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L83" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Properties</p>
<div class="top"><p class="src"><span class="keyword">property</span>
HashMap<span class='generics'>&lt;</span>string<span class='comma'>, </span>Either<span class='generics'>&lt;</span>Unit<span class='comma'>, </span>ValueVector<span class='generics'>&gt;</span><span class='generics'>&gt;</span>
<span class="def">Data</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L111" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Key/value store for the session
only stores the data that  the particular node is interested in.
Unit if the node is interested in data but does not have a value yet.</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">property</span>
DateTime
<span class="def">LastAccess</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L116" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>UTC date of last access</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">property</span>
DateTime
<span class="def">Expires</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L121" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>The date-time of expiry</p>
</div>
<div></div>

</div>












</div></div>

<div class="subs methods"><p class="caption">Methods</p>
<div class="top"><p class="src"><span class="keyword">method</span>
SessionVector
<span class="def">Create</span>

<span class='parens'>(</span>int timeout<span class='comma'>, </span>VectorConflictStrategy strategy<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L94" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<span class="def">Touch</span>

<span class='parens'>(</span><span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L126" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Invoke to keep the session alive</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<span class="def">ClearKeyValue</span>

<span class='parens'>(</span>long vector<span class='comma'>, </span>string key<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L135" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Remove a key from the session key/value store</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
void
<span class="def">SetKeyValue</span>

<span class='parens'>(</span>long time<span class='comma'>, </span>string key<span class='comma'>, </span>object value<span class='comma'>, </span>VectorConflictStrategy strategy<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L147" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Add or update a key in the session key/value store</p>
</div>
<div></div>

</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Option<span class='generics'>&lt;</span>ValueVector<span class='generics'>&gt;</span>
<span class="def">ProvideData</span>

<span class='parens'>(</span>SessionId sid<span class='comma'>, </span>string key<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L167" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div><p>Checks local cache for a session data key. If does not exists uses get (redis) to
retrieve the data. If data does not exist, an entry is still added to local cache as Unit (Left)
to allow syncing with other published data update messages later.</p>
</div>
<div></div>
<div class="methods"><p class="caption">Parameters</p>
<div class="params-and-returns"><table><tbody><tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">key</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"></span></td></tr>
<tr><td class="src clearfix"><span class="keyword">param</span></td>
<td class="src clearfix"><span class="inst-left"><span class="def">get</span></span></td>
<td class="src clearfix"><span class="instruction inst-left"></span></td></tr>
<tr><td class="src clearfix"><span class="keyword">returns</span></td>
<td colspan="2" class="src clearfix"><span class="instruction inst-left"></span></td></tr></tbody></table></div></div>
</div>












</div>
<div class="top"><p class="src"><span class="keyword">method</span>
Option<span class='generics'>&lt;</span>ValueVector<span class='generics'>&gt;</span>
<span class="def">GetExistingData</span>

<span class='parens'>(</span>string key<span class='parens'>)</span>
<a href="https://github.com/louthy/echo-process/tree/main/Echo.Process/Session/SessionVector.cs#L198" class="link">Source</a>
<div class="constraints"></div></p>
<div class="doc"><div></div>
<div></div>

</div>












</div></div>




</div></div></div></body></html>